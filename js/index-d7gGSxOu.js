var e=Object.defineProperty,t=(t,s,i)=>((t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i)(t,"symbol"!=typeof s?s+"":s,i);import{d as s,r as i,X as n,av as o,w as a,j as r,S as l,ag as d,c as h,o as c,O as u,a as p,J as m,V as y,a6 as g,u as v,M as x,P as w,H as f,L as M,D as z,G as b,a1 as S,at as P}from"./@vue-DGApAhZE.js";import{P as C,a as k,D as N,b as O,H as V,R as L,S as j,A as G,c as H,V as J,d as A,e as _,W as I,f as W,O as E,C as U,g as B,G as R,h as D,i as F,M as q,j as T,k as $,l as X,T as K,m as Y,n as Q,o as Z,p as ee,q as te,r as se,s as ie,t as ne,B as oe,F as ae,u as re,v as le,w as de,E as he,x as ce}from"./three-DB1olfpS.js";import{i as ue}from"./element-plus-B0MKPQpY.js";import"./lodash-es-CUM784Py.js";import"./@vueuse-D2H9BA2s.js";import"./@element-plus-BfODRGgU.js";import"./@popperjs-DxP-MrnL.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-CUOEq7Ny.js";import"./async-validator-BTKOuuO-.js";import"./memoize-one-Ds0C_khL.js";import"./normalize-wheel-es-TzhA1irr.js";import"./@floating-ui-anUbB2i9.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class pe{init(e,t,s){const i={type:"PointLight",x:0,y:0,z:0,color:16777215,intensity:1e4,distance:0,decay:2,shadowWidth:1024,shadowHeight:1024,shadowNear:.5,shadowFar:1e3,lightHelper:!1,...s};let n;switch(i.type){case"PointLight":n=new C(i.color,i.intensity,i.distance,i.decay),i.lightHelper&&e.add(new k(n,10));case"AmbientLight":n=new G(i.color,i.intensity);case"SpotLight":n=new j(i.color,i.intensity);case"RectAreaLight":n=new L(i.color,i.intensity);case"HemisphereLight":n=new V(i.color,i.color,i.intensity);case"DirectionalLight":n=new N(i.color,i.intensity),i.lightHelper&&e.add(new O(n,5));default:if(n=new C(i.color,i.intensity,i.distance,i.decay),i.lightHelper){const t=new k(n,10);e.add(t)}}n.position.set(i.x,i.y,i.z),n.castShadow=!0,e.add(n),n.shadow.mapSize.width=i.shadowWidth,n.shadow.mapSize.height=i.shadowHeight,n.shadow.camera.near=i.shadowNear,n.shadow.camera.far=i.shadowFar;const o=t.addFolder(i.type);return o.close(),o.add(n,"intensity",0,1e4,1),o.add(n.position,"x",-1e3,1e3,1),o.add(n.position,"y",-1e3,1e3,1),o.add(n.position,"z",-1e3,1e3,1),n}}class me{constructor(e=new J(0,10,20)){t(this,"scene"),t(this,"camera"),t(this,"innerWidth"),t(this,"innerHeight"),t(this,"renderer"),t(this,"controls"),t(this,"clock"),t(this,"stats"),t(this,"gui"),t(this,"axesHelper",new H(150)),this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.scene=new A,this.camera=new _(75,innerWidth/innerHeight,.1,2e3),this.camera.position.copy(e),this.renderer=new I({antialias:!0}),this.renderer.setSize(this.innerWidth,this.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=W,this.scene.add(this.axesHelper),this.controls=new E(this.camera,this.renderer.domElement),this.clock=new U,this.gui=new B,this.gui.close(),window.onresize=()=>{this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.camera.aspect=this.innerWidth/this.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.innerWidth,this.innerHeight)}}gridHelper(e=1e3,t=10){var s;const i=new R(e,t);null==(s=this.scene)||s.add(i)}onResize(){this.camera.aspect=window.innerWidth/window.innerHeight}light(e={}){return(new pe).init(this.scene,this.gui,e)}init(e){const t=document.querySelector(e);null==t||t.appendChild(this.renderer.domElement),this.stats=new D,null==t||t.appendChild(this.stats.dom)}plane(){var e;const t=new F(100,100),s=new q({color:65280,side:T}),i=new $(t,s);i.rotation.x=Math.PI/2,null==(e=this.scene)||e.add(i)}destroy(){var e,t,s;null==(e=this.renderer)||e.dispose(),null==(t=this.scene)||t.traverse((e=>{var t;null==(t=this.scene)||t.remove(e)})),null==(s=this.camera)||s.remove()}}const ye=e=>{qe.config.globalProperties.$progressLoading.onProgress(e)},ge=()=>{qe.config.globalProperties.$progressLoading.onShow()},ve=()=>{qe.config.globalProperties.$progressLoading.onHide()};var xe=(e=>(e.BoxGeometry="BoxGeometry",e.ModelGlb="modelGlb",e.ModelGltf="modelGltf",e.Image="image",e.Video="video",e))(xe||{});class we{constructor(){t(this,"lines",[]),t(this,"lineMap",new Map),t(this,"current",0),t(this,"oldUuid",""),t(this,"newUuid","")}add(e,t){this.lines.length&&(this.lines.length=this.current+1),this.lines.push({uuid:e,message:t}),this.current=this.lines.length-1}sort(e){let t={position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},size:{x:0,y:0,z:0},name:"",type:"BoxGeometry",url:""};const s=[];for(let i=0;i<this.lines.length;i++)this.lines[i].uuid===e?t=this.lines[i].message:s.push(this.lines[i]);s.push({uuid:e,message:t}),this.lines.length=0,this.lines.push(...s)}next(){return this.current<this.lines.length-1&&this.current++,this.newUuid=this.lines[this.current].uuid,this.lines[this.current]}prev(){return this.oldUuid=this.lines[this.current].uuid,this.current>0&&this.current--,this.lines[this.current]}removeChild(){return this.lines.slice(0,this.current+1).some((e=>e.uuid===this.oldUuid))?"":this.oldUuid}addChild(){return this.lines.slice(0,this.current+1).some((e=>e.uuid===this.newUuid))?this.newUuid:""}}const fe=[{name:"图片",type:"image",url:"./texture/images/uv_grid_opengl.jpg",uuid:"c86649a1-5050-4325-be9a-f7fbf2eddc27",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:2,y:1,z:1},size:{x:0,y:0,z:0}},{name:"模型gltf",type:"modelGltf",url:"./texture/model/LeePerrySmith.glb",uuid:"fe841ffd-2b55-495d-b451-451afa7a503a",mixer:[],position:{x:14.653004919197528,y:-36.66009163661538,z:-20.043370080310176},rotation:{x:0,y:0,z:0},scale:{x:1,y:1.0000001192092896,z:1.0000001192092896},size:{x:0,y:0,z:0}},{name:"视频",type:"video",url:"./texture/video/sintel.mp4",uuid:"80f1f56f-47de-43f9-8689-7f15f8fc268d",position:{x:-11.413523111868496,y:4.9940120911203865,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},size:{x:0,y:0,z:0}},{name:"模型glb",type:"modelGlb",url:"./texture/model/Soldier.glb",uuid:"a813486e-ae40-4373-b154-fa65ede7323c",mixer:["Idle","Run","TPose","Walk"],position:{x:-13.37227955350931,y:0,z:0},rotation:{x:-1.5707962925663537,y:0,z:0},scale:{x:.009999999776482582,y:.009999999776482582,z:.009999999776482582},size:{x:0,y:0,z:0}}],Me={class:"left"},ze=["data-type","data-index"],be=["data-type"],Se={class:"right"},Pe={class:"message"},Ce={class:"info"},ke={class:"object-container"},Ne=["data-index","data-uuid","data-type"],Oe={class:"animation"},Ve=["data-name"],Le={class:"drag-container"},je=["data-type","data-url","data-name"],Ge={key:0,class:"video-control"},He={class:"control-list"},Je={class:"restore-revoke"},Ae={class:"restore"},_e={class:"revoke"},Ie={class:"export"},We=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Ee=We(s({__name:"Index",setup(e){const s=new we,b=[{name:"模型glb",type:xe.ModelGlb,url:"./texture/model/Soldier.glb"},{name:"模型gltf",type:xe.ModelGltf,url:"./texture/model/LeePerrySmith.glb"},{name:"图片",type:xe.Image,url:"./texture/images/uv_grid_opengl.jpg"},{name:"视频",type:xe.Video,url:"./texture/video/sintel.mp4"}],S=i(-1);let P=0;const C=[{type:"translate",name:"移动"},{type:"scale",name:"缩放"},{type:"rotation",name:"旋转"}],k=[{type:"delete",name:"删除"}],N=i(!1),O=i(-1),V=n({position:{type:"position",x:0,y:0,z:0},rotation:{type:"rotation",x:0,y:0,z:0},scale:{type:"scale",x:0,y:0,z:0}});let L="";const j=n([]),G=i(-1);let H="";const A=o([]),_=i(""),I=e=>{var t;A.length=0,(null==(t=j[e])?void 0:t.mixer)&&A.push(...j[e].mixer)},W=i(),E=i(),U={name:"",type:"BoxGeometry",url:""},B=i(!1),R=i(!1),D=i(!0);i(0);const T=new class extends me{constructor(){super(),t(this,"meshGroup",new Q),t(this,"raycasting",new Z),t(this,"pointer",new ee),t(this,"transformControls"),t(this,"selectGroup",new Q),t(this,"selectMesh"),t(this,"gizmo"),t(this,"mixer"),t(this,"modelList",new Q),t(this,"mixerArray",[]),t(this,"prev",(()=>{const e=s.prev();this.updateMeshMessage(e);const t=s.removeChild();this.setMeshVisible(t,!1)})),t(this,"next",(()=>{const e=s.next();this.updateMeshMessage(e);const t=s.addChild();this.setMeshVisible(t,!0)}))}load(){var e;this.init("#webgl");const t=new te(this.renderer);this.scene.background=new se(3355443),this.scene.environment=t.fromScene(new ie,.04).texture,null==(e=this.scene)||e.add(this.meshGroup,this.selectGroup),this.transformControls=new ne(this.camera,this.renderer.domElement),this.animate(),this.gridHelper(1e3,200),this.transformControls.addEventListener("dragging-changed",(e=>{this.controls.enabled=!e.value})),this.transformControls.addEventListener("dragging-changed",(e=>{ue.value=e.value,e.value||this.meshInformation(this.selectMesh).then((e=>{const t=j[G.value];this.addLine(t.uuid,JSON.parse(JSON.stringify(e.position)),JSON.parse(JSON.stringify({x:e.rotation.x,y:e.rotation.y,z:e.rotation.z})),JSON.parse(JSON.stringify(e.scale)),{name:t.name,type:t.type,url:t.url})}))})),this.transformControls.addEventListener("change",(e=>{this.getSelectMeshInfo()})),window.addEventListener("click",(e=>{var t,s;this.pointer.x=e.clientX/this.innerWidth*2-1,this.pointer.y=-e.clientY/this.innerHeight*2+1,this.raycasting.setFromCamera(this.pointer,this.camera);const i=this.raycasting.intersectObjects(this.meshGroup.children);if(i.length){let e=i[0].object.uuid||"";if("SkinnedMesh"===i[0].object.type){const s=i[0].object,n=s.skeleton.bones[0];this.selectMesh=n,e=(null==(t=s.parent)?void 0:t.uuid)||"";const o=this.setSelectMeshIndex(e);this.setSelectMesh(this.meshGroup.children[o])}else this.selectMesh=i[0].object,this.setSelectMesh(this.selectMesh),this.setSelectMeshIndex(e),L=e}else-1==G.value&&this.gizmo&&(this.gizmo.visible=!1,null==(s=this.transformControls)||s.detach())}))}remove(){var e;if(this.selectMesh){this.selectMesh.visible=!1,null==(e=this.transformControls)||e.detach();const t=j.splice(G.value,1)[0];G.value=-1,this.addLine(this.selectMesh.uuid,JSON.parse(JSON.stringify(this.selectMesh.position)),JSON.parse(JSON.stringify({x:this.selectMesh.rotation.x,y:this.selectMesh.rotation.y,z:this.selectMesh.rotation.z})),JSON.parse(JSON.stringify(this.selectMesh.scale)),{name:t.name,type:t.type,url:t.url})}}setMode(e){var t;null==(t=this.transformControls)||t.setMode(e)}addObject(e){if(e.type===xe.BoxGeometry){const e=new q({color:16777215}),t=new oe(5,5,5),s=new $(t,e);s.position.set(0,2.5,0),this.meshGroup.add(s)}else e.type===xe.ModelGlb||e.type===xe.ModelGltf?this.addModel(e):e.type===xe.Image?this.addImage(e):e.type===xe.Video&&this.addVideo(e)}addModel(e){var t;(t=e.url,new Promise((e=>{ge(),(new X).load(t,(t=>{e(t),ve()}),(e=>{ye(Number((e.total/e.loaded).toFixed(2)))}),(e=>{ve()}))}))).then((t=>{const s=t.scene.children[0];this.createAnimationMixer(t,s.uuid).then((t=>{this.setMeshListPush(e,s)})),this.meshGroup.add(s)}))}addImage(e){var t;(t=e.url,new Promise((e=>{ge(),(new K).load(t,(t=>{const{width:s,height:i}=t.source.data;e({width:s,height:i,texture:t}),ve()}),(e=>{ye(Number((e.total/e.loaded).toFixed(2)))}),(e=>{ve()}))}))).then((t=>{const{width:s,height:i,texture:n}=t,o=new F(10,10*i/s),a=new q({map:n,side:ae,transparent:!0}),r=new $(o,a);this.meshGroup.add(r),this.setMeshListPush(e,r)}))}addVideo(e){var t;(t=e.url,new Promise((e=>{ge();const s=document.createElement("video");s.src=t,s.crossOrigin="Anonymous",s.loop=!0,s.muted=!0,s.pause(),s.onloadeddata=()=>{ve();const t=new Y(s),{videoWidth:i,videoHeight:n}=s;e({videoWidth:i,videoHeight:n,texture:t})},s.onerror=()=>{ve()}}))).then((t=>{const{videoWidth:s,videoHeight:i,texture:n}=t,o=new F(10,10*i/s),a=new q({map:n}),r=new $(o,a);this.meshGroup.add(r),this.setMeshListPush(e,r)}))}setMeshListPush(e,t){let s;e.uuid?s=this.setMeshMatrix(t,e):(s=t,this.addLine(s.uuid,s.position,s.rotation,s.scale,e)),j.push({...e,uuid:s.uuid,position:s.position,rotation:{x:s.rotation.x,y:s.rotation.y,z:s.rotation.z},scale:s.scale,size:{x:0,y:0,z:0}})}lineSort(e,t){s.lines.length===t&&s.sort(e)}addLine(e,t,i,n,o){s.add(e,{position:JSON.parse(JSON.stringify(t)),rotation:JSON.parse(JSON.stringify(i)),scale:JSON.parse(JSON.stringify(n)),size:{x:0,y:0,z:0},...o})}createAnimationMixer(e,t){return new Promise((s=>{if(e.animations.length){const i=e.scene,n=new re(i),o=[];let a=[];e.animations.forEach((e=>{const t=n.clipAction(e);a.push(t),o.push(e.name)})),this.mixerArray.push({uuid:t,mixer:n,action:a}),s(o)}else s([])}))}playAnimation(e){this.mixerArray.forEach((t=>{t.uuid===H&&t.action.forEach(((t,s)=>{const i=t.getClip().name;i===e?(t.play(),_.value=i):t.stop()}))}))}getAnimationName(){this.mixerArray.forEach((e=>{e.uuid===H&&e.action.forEach(((e,t)=>{const s=e.getClip().name;e.isRunning()&&(_.value=s)}))}))}getSelectMeshInfo(){this.meshInformation(this.selectMesh),this.selectMesh instanceof le?this.getMeshSize(this.selectMesh.parent):this.getMeshSize(this.selectMesh)}meshInformation(e){return new Promise((t=>{V.position.x=e.position.x,V.position.y=e.position.y,V.position.z=e.position.z,V.rotation.x=e.rotation.x,V.rotation.y=e.rotation.y,V.rotation.z=e.rotation.z,V.scale.x=e.scale.x,V.scale.y=e.scale.y,V.scale.z=e.scale.z,t({position:e.position,rotation:e.rotation,scale:e.scale})}))}getMeshSize(e){return new Promise((t=>{if(e.children.length)e.traverse((e=>{if(e instanceof $){e.geometry.computeBoundingBox();const{max:t,min:s}=e.geometry.boundingBox||{max:new J,min:new J};(new de).setFromPoints([s,t]).getSize(new J)}}));else{e.geometry.computeBoundingBox();const{max:t,min:s}=e.geometry.boundingBox||{max:new J,min:new J};(new de).setFromPoints([s,t]).getSize(new J)}}))}setMeshMatrix(e,t){return e.position.copy(new J(t.position.x,t.position.y,t.position.z)),e.rotation.copy(new he(t.rotation.x,t.rotation.y,t.rotation.z)),e.scale.copy(new J(t.scale.x,t.scale.y,t.scale.z)),e}setMeshPosition(e){var t;null==(t=this.selectMesh)||t.position.copy(e)}setMeshRotate(e){var t;const{x:s,y:i,z:n}=e,o=new he(s,i,n);null==(t=this.selectMesh)||t.rotation.copy(o)}setMeshScale(e){var t;null==(t=this.selectMesh)||t.scale.copy(e)}setSelectMeshIndex(e){const t=G.value=j.findIndex((t=>t.uuid===e));return I(t),H=e,_.value="",this.getAnimationName(),this.setVideoControlVisible(j[t].type),t}setSelectMesh(e){var t,s;let i;i="string"==typeof e?this.meshGroup.getObjectByProperty("uuid",e):(e.type,e),this.selectMesh=i,this.transformControls.attach(i),this.gizmo||(this.gizmo=null==(t=this.transformControls)?void 0:t.getHelper(),null==(s=this.scene)||s.add(this.gizmo)),S.value=P}moveTargetPosition(){var e,t;if(this.selectMesh){const s=new J(0,0,0).copy(this.selectMesh.position).subVectors(new J(0,10,20),this.selectMesh.position);this.camera.lookAt(0,0,0),this.camera.position.copy(s),null==(e=this.controls)||e.target.set(0,0,0),null==(t=this.controls)||t.update()}}setMeshVisible(e,t){e&&this.meshGroup.traverse((s=>{s.uuid===e&&(s.visible=t)}))}updateMeshMessage(e){const{uuid:t,message:s}=e;this.meshGroup.traverse((e=>{e.uuid===t&&(e.position.copy(s.position),new J,e.rotation.copy(new he(s.rotation.x,s.rotation.y,s.rotation.z)),e.scale.copy(s.scale))}))}exportData(){}setVideoControlVisible(e){e===xe.Video?B.value=!0:B.value=!1}setVideoPlay(){var e;const t=null==(e=this.meshGroup.children[G.value].material.map)?void 0:e.source.data;t.paused?t.play():t.pause()}setVideoMuted(){var e;const t=null==(e=this.meshGroup.children[G.value].material.map)?void 0:e.source.data;t.muted=!t.muted,D.value=t.muted}animate(){var e,t;if(null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),ce.update(),this.renderer.render(this.scene,this.camera),this.selectMesh&&"SkinnedMesh"===this.selectMesh.type){this.selectMesh.parent.skeleton.update(),this.selectMesh.updateMatrixWorld(!0)}if(this.mixerArray.length){const e=this.clock.getDelta();this.mixerArray.forEach((t=>{t.mixer.update(e)}))}null==(t=this.stats)||t.end()}},ue=i(!1);a(V,((e,t)=>{ue.value||(T.setMeshPosition(new J(e.position.x,e.position.y,e.position.z)),T.setMeshRotate(new J(e.rotation.x,e.rotation.y,e.rotation.z)),T.setMeshScale(new J(e.scale.x,e.scale.y,e.scale.z)))}));const pe=(e,t)=>{"position"===t?T.setMeshPosition(new J(V.position.x,V.position.y,V.position.z)):"rotation"===t?T.setMeshRotate(new J(V.rotation.x,V.rotation.y,V.rotation.z)):"scale"===t&&T.setMeshScale(new J(V.scale.x,V.scale.y,V.scale.z)),T.addLine(j[G.value].uuid,JSON.parse(JSON.stringify(V.position)),JSON.parse(JSON.stringify(V.rotation)),JSON.parse(JSON.stringify(V.scale)),{name:j[G.value].name,type:j[G.value].type,url:j[G.value].url})},We=e=>{const{dataset:t}=e.target;S.value=-1,"delete"===t.type?T.remove():"targetPosition"===t.type?(T.moveTargetPosition(),O.value=1!=O.value?1:-1):(T.setMode(t.type),S.value=Number(t.index),P=Number(t.index))},Ee=e=>{const{dataset:t}=e.target;G.value=Number(t.index),T.setSelectMesh(t.uuid),L=t.uuid||"",I(G.value),H=t.uuid,T.getAnimationName(),T.setVideoControlVisible(t.type)},Ue=e=>{const{dataset:t}=e.target,s=t.name;T.playAnimation(s)},Be=e=>{const{dataset:t}=e.target;U.name=t.name||"",U.type=t.type,U.url=t.url||"",ue.value=!0},Re=e=>{const t={uuid:"",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},size:{x:0,y:0,z:0},name:U.name,type:U.type,url:U.url};T.addObject(t),N.value=!0,ue.value=!1};return r((()=>{T.load(),N.value=!0;for(let e=0;e<fe.length;e++)T.addObject(fe[e])})),l((()=>{T.gui.close(),T.gui.destroy()})),(e,t)=>{const s=d("el-input"),i=d("el-button");return c(),h(u,null,[p("div",{id:"webgl",ref_key:"webglRef",ref:E,onDragover:t[0]||(t[0]=y((()=>{}),["prevent"])),onDrop:Re},null,544),p("div",Me,[N.value?(c(),h("div",{key:0,class:"list",onClick:We},[(c(),h(u,null,g(C,((e,t)=>p("div",{class:z(["item",S.value==t?"active":""]),key:t,"data-type":e.type,"data-index":t},x(e.name),11,ze))),64))])):m("",!0),N.value?(c(),h("div",{key:1,class:"list",onClick:We},[(c(),h(u,null,g(k,((e,t)=>p("div",{class:z(["item",O.value==t?"active":""]),key:t,"data-type":e.type},x(e.name),11,be))),64))])):m("",!0)]),p("div",Se,[p("div",Pe,[t[7]||(t[7]=p("h1",null,"对象信息",-1)),(c(!0),h(u,null,g(V,(e=>(c(),h("div",{class:"position",key:e.type},[p("div",null,x(e.type)+":",1),p("div",Ce,[t[4]||(t[4]=M(" x:")),w(s,{modelValue:e.x,"onUpdate:modelValue":t=>e.x=t,type:"number",style:{width:"60px"},placeholder:"Please input",onChange:t=>pe(0,e.type),disabled:-1==G.value},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"]),t[5]||(t[5]=M(" y:")),w(s,{modelValue:e.y,"onUpdate:modelValue":t=>e.y=t,type:"number",style:{width:"60px"},placeholder:"Please input",onChange:t=>pe(0,e.type),disabled:-1==G.value},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"]),t[6]||(t[6]=M(" z:")),w(s,{modelValue:e.z,"onUpdate:modelValue":t=>e.z=t,type:"number",style:{width:"60px"},placeholder:"Please input",onChange:t=>pe(0,e.type),disabled:-1==G.value},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])])])))),128))]),p("div",ke,[t[8]||(t[8]=p("h1",null,"对象",-1)),p("div",{class:"object-list",onClick:Ee},[(c(!0),h(u,null,g(j,((e,t)=>(c(),h("div",{class:z(["item",G.value===t?"active":""]),key:e.uuid,"data-index":t,"data-uuid":e.uuid,"data-type":e.type},x(e.name),11,Ne)))),128))])]),p("div",Oe,[t[9]||(t[9]=p("h1",null,"动画",-1)),(c(!0),h(u,null,g(v(A),((e,t)=>(c(),h("div",{class:z(["item",_.value===e?"active":""]),key:e,"data-name":e,onClick:Ue},x(e),11,Ve)))),128))])]),p("div",Le,[p("div",{class:"mesh",ref_key:"dragRef",ref:W},[(c(),h(u,null,g(b,((e,s)=>p("div",{class:"mesh-item",key:s,"data-type":e.type,"data-url":e.url,"data-name":e.name,draggable:"true",onDragover:t[1]||(t[1]=y((()=>{}),["prevent"])),onDragstart:Be},x(e.name),41,je))),64))],512)]),B.value?(c(),h("div",Ge,[p("div",He,[p("div",{class:"item",onClick:t[2]||(t[2]=(...e)=>v(T).setVideoPlay&&v(T).setVideoPlay(...e))},x(R.value?"暂停":"播放"),1),p("div",{class:"item",onClick:t[3]||(t[3]=(...e)=>v(T).setVideoMuted&&v(T).setVideoMuted(...e))},"静音（"+x(D.value?"是":"否")+"）",1)])])):m("",!0),p("div",Je,[p("div",Ae,[w(i,{onClick:v(T).prev},{default:f((()=>t[10]||(t[10]=[M("上一步")]))),_:1},8,["onClick"])]),p("div",_e,[w(i,{onClick:v(T).next},{default:f((()=>t[11]||(t[11]=[M("下一步")]))),_:1},8,["onClick"])]),p("div",Ie,[w(i,{onClick:v(T).exportData},{default:f((()=>t[12]||(t[12]=[M("导出")]))),_:1},8,["onClick"])])])],64)}}}),[["__scopeId","data-v-e281c85e"]]),Ue=s({__name:"App",setup:e=>(e,t)=>(c(),h("div",null,[w(Ee)]))}),Be={key:0,class:"loading"},Re={class:"progress"},De=We(s({__name:"ProgressLoading",setup(e,{expose:t}){const s=i(0),n=i(!1);return t({onShow:()=>{n.value=!0},onHide:()=>{n.value=!1},onProgress:e=>{s.value=e}}),(e,t)=>(c(),b(S,{to:"body"},[n.value?(c(),h("div",Be,[p("div",Re,"加载进度..."+x(s.value)+"%",1)])):m("",!0)]))}}),[["__scopeId","data-v-12cf9b1b"]]),Fe={install(e){const t=document.createElement("div"),s=P(De).mount(t);e.config.globalProperties.$progressLoading={onShow(){s.onShow()},onHide(){s.onHide()},onProgress(e){s.onProgress(e)}}}},qe=P(Ue);qe.use(ue),qe.use(Fe),qe.mount("#app");
