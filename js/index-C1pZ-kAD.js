var e=Object.defineProperty,t=(t,s,i)=>((t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i)(t,"symbol"!=typeof s?s+"":s,i);import{d as s,r as i,a as n,S as a,w as o,o as r,f as l,U as d,V as h,W as u,F as c,X as p,Y as m,B as y,Z as v,c as g,_ as x,u as f,$ as w,a0 as b,G as z,a1 as M,E as S,R as N}from"./@vue-DBpx-zj3.js";import{P as C,a as P,D as k,b as O,H as j,R as G,S as L,A as H,c as _,V as J,d as V,e as A,W as I,f as U,O as W,C as E,g as B,G as R,h as F,i as D,M as $,j as q,k as K,l as T,T as X,m as Y,n as Z,o as Q,p as ee,q as te,r as se,s as ie,t as ne,B as ae,u as oe,v as re,w as le,E as de,x as he}from"./three-nPBd7j9u.js";import{A as ue}from"./ant-design-vue-BIsS1SVr.js";import"./@babel-CaN1A-4H.js";import"./@ant-design-xLe7BKq7.js";import"./@ctrl-B2IeE8ye.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./@emotion-BqFXxR3o.js";import"./stylis-BXpgKhw9.js";import"./scroll-into-view-if-needed-NubnV8l_.js";import"./compute-scroll-into-view-DCNUDwgY.js";import"./vue-types-DUrkvkDc.js";import"./dom-align-CwhutA7q.js";import"./lodash-es-qFkpNywP.js";import"./dayjs-ClvOdu9v.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class ce{init(e,t,s){const i={type:"PointLight",x:0,y:0,z:0,color:16777215,intensity:1e4,distance:0,decay:2,shadowWidth:1024,shadowHeight:1024,shadowNear:.5,shadowFar:1e3,lightHelper:!1,...s};let n;switch(i.type){case"PointLight":n=new C(i.color,i.intensity,i.distance,i.decay),i.lightHelper&&e.add(new P(n,10));case"AmbientLight":n=new H(i.color,i.intensity);case"SpotLight":n=new L(i.color,i.intensity);case"RectAreaLight":n=new G(i.color,i.intensity);case"HemisphereLight":n=new j(i.color,i.color,i.intensity);case"DirectionalLight":n=new k(i.color,i.intensity),i.lightHelper&&e.add(new O(n,5));default:if(n=new C(i.color,i.intensity,i.distance,i.decay),i.lightHelper){const t=new P(n,10);e.add(t)}}n.position.set(i.x,i.y,i.z),n.castShadow=!0,e.add(n),n.shadow.mapSize.width=i.shadowWidth,n.shadow.mapSize.height=i.shadowHeight,n.shadow.camera.near=i.shadowNear,n.shadow.camera.far=i.shadowFar;const a=t.addFolder(i.type);return a.close(),a.add(n,"intensity",0,1e4,1),a.add(n.position,"x",-1e3,1e3,1),a.add(n.position,"y",-1e3,1e3,1),a.add(n.position,"z",-1e3,1e3,1),n}}class pe{constructor(e=new J(0,10,20)){t(this,"scene"),t(this,"camera"),t(this,"innerWidth"),t(this,"innerHeight"),t(this,"renderer"),t(this,"controls"),t(this,"clock"),t(this,"stats"),t(this,"gui"),t(this,"axesHelper",new _(150)),this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.scene=new V,this.camera=new A(75,innerWidth/innerHeight,.1,2e3),this.camera.position.copy(e),this.renderer=new I({antialias:!0}),this.renderer.setSize(this.innerWidth,this.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=U,this.scene.add(this.axesHelper),this.controls=new W(this.camera,this.renderer.domElement),this.clock=new E,this.gui=new B,this.gui.close(),window.onresize=()=>{this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.camera.aspect=this.innerWidth/this.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.innerWidth,this.innerHeight)}}gridHelper(e=1e3,t=10){var s;const i=new R(e,t);null==(s=this.scene)||s.add(i)}onResize(){this.camera.aspect=window.innerWidth/window.innerHeight}light(e={}){return(new ce).init(this.scene,this.gui,e)}init(e){const t=document.querySelector(e);null==t||t.appendChild(this.renderer.domElement),this.stats=new F,null==t||t.appendChild(this.stats.dom)}plane(){var e;const t=new D(100,100),s=new $({color:65280,side:q}),i=new K(t,s);i.rotation.x=Math.PI/2,null==(e=this.scene)||e.add(i)}destroy(){var e,t,s;null==(e=this.renderer)||e.dispose(),null==(t=this.scene)||t.traverse((e=>{var t;null==(t=this.scene)||t.remove(e)})),null==(s=this.camera)||s.remove()}}const me=e=>{De.config.globalProperties.$progressLoading.onProgress(e)},ye=()=>{De.config.globalProperties.$progressLoading.onShow()},ve=()=>{De.config.globalProperties.$progressLoading.onHide()};var ge=(e=>(e.BoxGeometry="BoxGeometry",e.ModelGlb="modelGlb",e.ModelGltf="modelGltf",e.Image="image",e.Video="video",e))(ge||{});class xe{constructor(){t(this,"lines",[]),t(this,"lineMap",new Map),t(this,"current",0),t(this,"oldUuid",""),t(this,"newUuid","")}add(e,t){this.lines.length&&(this.lines.length=this.current+1),this.lines.push({uuid:e,message:t}),this.current=this.lines.length-1}sort(e){let t={position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},size:{x:0,y:0,z:0},name:"",type:"BoxGeometry",url:""};const s=[];for(let i=0;i<this.lines.length;i++)this.lines[i].uuid===e?t=this.lines[i].message:s.push(this.lines[i]);s.push({uuid:e,message:t}),this.lines.length=0,this.lines.push(...s)}next(){return this.current<this.lines.length-1&&this.current++,this.newUuid=this.lines[this.current].uuid,this.lines[this.current]}prev(){return this.oldUuid=this.lines[this.current].uuid,this.current>0&&this.current--,this.lines[this.current]}removeChild(){return this.lines.slice(0,this.current+1).some((e=>e.uuid===this.oldUuid))?"":this.oldUuid}addChild(){return this.lines.slice(0,this.current+1).some((e=>e.uuid===this.newUuid))?this.newUuid:""}}const fe=[{name:"图片",type:"image",url:"./texture/images/uv_grid_opengl.jpg",uuid:"c86649a1-5050-4325-be9a-f7fbf2eddc27",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:2,y:1,z:1},size:{x:0,y:0,z:0}},{name:"模型gltf",type:"modelGltf",url:"./texture/model/LeePerrySmith.glb",uuid:"fe841ffd-2b55-495d-b451-451afa7a503a",mixer:[],position:{x:14.653004919197528,y:-36.66009163661538,z:-20.043370080310176},rotation:{x:0,y:0,z:0},scale:{x:1,y:1.0000001192092896,z:1.0000001192092896},size:{x:0,y:0,z:0}},{name:"视频",type:"video",url:"./texture/video/sintel.mp4",uuid:"80f1f56f-47de-43f9-8689-7f15f8fc268d",position:{x:-11.413523111868496,y:4.9940120911203865,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},size:{x:0,y:0,z:0}},{name:"模型glb",type:"modelGlb",url:"./texture/model/Soldier.glb",uuid:"a813486e-ae40-4373-b154-fa65ede7323c",mixer:["Idle","Run","TPose","Walk"],position:{x:-13.37227955350931,y:0,z:0},rotation:{x:-1.5707962925663537,y:0,z:0},scale:{x:.009999999776482582,y:.009999999776482582,z:.009999999776482582},size:{x:0,y:0,z:0}}],we={class:"left"},be=["data-type","data-index"],ze=["data-type"],Me={class:"right"},Se={class:"tab-container"},Ne={class:"message"},Ce={class:"animation"},Pe=["data-name"],ke={class:"object-container"},Oe=["data-index","data-uuid","data-type"],je={class:"drag-container"},Ge=["data-type","data-url","data-name"],Le={key:0,class:"video-control"},He={class:"control-list"},_e={class:"restore-revoke"},Je={class:"restore"},Ve={class:"revoke"},Ae={class:"export"},Ie=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Ue=Ie(s({__name:"Index",setup(e){const s=new xe,M=i("0"),S=[{name:"模型glb",type:ge.ModelGlb,url:"./texture/model/Soldier.glb"},{name:"模型gltf",type:ge.ModelGltf,url:"./texture/model/LeePerrySmith.glb"},{name:"图片",type:ge.Image,url:"./texture/images/uv_grid_opengl.jpg"},{name:"视频",type:ge.Video,url:"./texture/video/sintel.mp4"}],N=i(-1);let C=0;const P=[{type:"translate",name:"移动"},{type:"scale",name:"缩放"},{type:"rotate",name:"旋转"}],k=[{type:"delete",name:"删除"}],O=i(!1),j=i(-1),G=n({position:{type:"position",x:0,y:0,z:0},rotation:{type:"rotation",x:0,y:0,z:0},scale:{type:"scale",x:0,y:0,z:0}});let L="";const H=n([]),_=i(-1);let V="";const A=a([]),I=i(""),U=e=>{var t;A.length=0,(null==(t=H[e])?void 0:t.mixer)&&A.push(...H[e].mixer)},W=i(),E=i(),B={name:"",type:"BoxGeometry",url:""},R=i(!1),F=i(!1),ue=i(!0);i(0);const ce=new class extends pe{constructor(){super(),t(this,"meshGroup",new Z),t(this,"raycasting",new Q),t(this,"pointer",new ee),t(this,"transformControls"),t(this,"selectGroup",new Z),t(this,"selectMesh"),t(this,"gizmo"),t(this,"mixer"),t(this,"modelList",new Z),t(this,"mixerArray",[]),t(this,"prev",(()=>{const e=s.prev();this.updateMeshMessage(e);const t=s.removeChild();this.setMeshVisible(t,!1)})),t(this,"next",(()=>{const e=s.next();this.updateMeshMessage(e);const t=s.addChild();this.setMeshVisible(t,!0)}))}load(){var e;this.init("#webgl");const t=new te(this.renderer);this.scene.background=new se(3355443),this.scene.environment=t.fromScene(new ie,.04).texture,null==(e=this.scene)||e.add(this.meshGroup,this.selectGroup),this.transformControls=new ne(this.camera,this.renderer.domElement),this.animate(),this.gridHelper(1e3,200),this.transformControls.addEventListener("dragging-changed",(e=>{this.controls.enabled=!e.value})),this.transformControls.addEventListener("dragging-changed",(e=>{Ie.value=e.value,e.value||(this.meshInformation(this.selectMesh).then((e=>{const t=H[_.value];this.addLine(t.uuid,JSON.parse(JSON.stringify(e.position)),JSON.parse(JSON.stringify({x:e.rotation.x,y:e.rotation.y,z:e.rotation.z})),JSON.parse(JSON.stringify(e.scale)),{name:t.name,type:t.type,url:t.url})})),this.getSelectMeshInfo())})),this.transformControls.addEventListener("change",(e=>{})),window.addEventListener("click",(e=>{var t;this.pointer.x=e.clientX/this.innerWidth*2-1,this.pointer.y=-e.clientY/this.innerHeight*2+1,this.raycasting.setFromCamera(this.pointer,this.camera);const s=this.raycasting.intersectObjects(this.meshGroup.children);if(s.length){let e=s[0].object.uuid||"";if("SkinnedMesh"===s[0].object.type){const i=s[0].object,n=i.skeleton.bones[0];this.selectMesh=n,e=(null==(t=i.parent)?void 0:t.uuid)||"";const a=this.setSelectMeshIndex(e);this.setSelectMesh(this.meshGroup.children[a])}else this.selectMesh=s[0].object,this.setSelectMesh(this.selectMesh),this.setSelectMeshIndex(e),L=e;this.getSelectMeshInfo()}else-1==_.value&&this.gizmo}))}remove(){var e;if(this.selectMesh){this.selectMesh.visible=!1,null==(e=this.transformControls)||e.detach();const t=H.splice(_.value,1)[0];_.value=-1,this.addLine(this.selectMesh.uuid,JSON.parse(JSON.stringify(this.selectMesh.position)),JSON.parse(JSON.stringify({x:this.selectMesh.rotation.x,y:this.selectMesh.rotation.y,z:this.selectMesh.rotation.z})),JSON.parse(JSON.stringify(this.selectMesh.scale)),{name:t.name,type:t.type,url:t.url})}else alert("请选择几何体")}setMode(e){var t,s;(null==(t=this.transformControls)?void 0:t.object)&&(null==(s=this.transformControls)||s.setMode(e))}addObject(e){if(e.type===ge.BoxGeometry){const e=new $({color:16777215}),t=new ae(5,5,5),s=new K(t,e);s.position.set(0,2.5,0),this.meshGroup.add(s)}else e.type===ge.ModelGlb||e.type===ge.ModelGltf?this.addModel(e):e.type===ge.Image?this.addImage(e):e.type===ge.Video&&this.addVideo(e)}addModel(e){var t;(t=e.url,new Promise((e=>{ye(),(new T).load(t,(t=>{e(t),ve()}),(e=>{me(Number((e.total/e.loaded).toFixed(2)))}),(e=>{ve()}))}))).then((t=>{const s=t.scene.children[0];this.createAnimationMixer(t,s.uuid).then((t=>{this.setMeshListPush(e,s)})),this.meshGroup.add(s)}))}addImage(e){var t;(t=e.url,new Promise((e=>{ye(),(new X).load(t,(t=>{const{width:s,height:i}=t.source.data;e({width:s,height:i,texture:t}),ve()}),(e=>{me(Number((e.total/e.loaded).toFixed(2)))}),(e=>{ve()}))}))).then((t=>{const{width:s,height:i,texture:n}=t,a=new D(10,10*i/s),o=new $({map:n,side:q,transparent:!0}),r=new K(a,o);this.meshGroup.add(r),this.setMeshListPush(e,r)}))}addVideo(e){var t;(t=e.url,new Promise((e=>{ye();const s=document.createElement("video");s.src=t,s.crossOrigin="Anonymous",s.loop=!0,s.muted=!0,s.pause(),s.onloadeddata=()=>{ve();const t=new Y(s),{videoWidth:i,videoHeight:n}=s;e({videoWidth:i,videoHeight:n,texture:t})},s.onerror=()=>{ve()}}))).then((t=>{const{videoWidth:s,videoHeight:i,texture:n}=t,a=new D(10,10*i/s),o=new $({map:n,side:q,transparent:!0}),r=new K(a,o);this.meshGroup.add(r),this.setMeshListPush(e,r)}))}setMeshListPush(e,t){let s;e.uuid?s=this.setMeshMatrix(t,e):(s=t,this.addLine(s.uuid,s.position,s.rotation,s.scale,e)),H.push({...e,uuid:s.uuid,position:s.position,rotation:{x:s.rotation.x,y:s.rotation.y,z:s.rotation.z},scale:s.scale,size:{x:0,y:0,z:0}})}lineSort(e,t){s.lines.length===t&&s.sort(e)}addLine(e,t,i,n,a){s.add(e,{position:JSON.parse(JSON.stringify(t)),rotation:JSON.parse(JSON.stringify(i)),scale:JSON.parse(JSON.stringify(n)),size:{x:0,y:0,z:0},...a})}createAnimationMixer(e,t){return new Promise((s=>{if(e.animations.length){const i=e.scene,n=new oe(i),a=[];let o=[];e.animations.forEach((e=>{const t=n.clipAction(e);o.push(t),a.push(e.name)})),this.mixerArray.push({uuid:t,mixer:n,action:o}),s(a)}else s([])}))}playAnimation(e){this.mixerArray.forEach((t=>{t.uuid===V&&t.action.forEach(((t,s)=>{const i=t.getClip().name;i===e?(t.play(),I.value=i):t.stop()}))}))}getAnimationName(){this.mixerArray.forEach((e=>{e.uuid===V&&e.action.forEach(((e,t)=>{const s=e.getClip().name;e.isRunning()&&(I.value=s)}))}))}getSelectMeshInfo(){this.meshInformation(this.selectMesh),this.selectMesh instanceof re?this.getMeshSize(this.selectMesh.parent):this.getMeshSize(this.selectMesh)}meshInformation(e){return new Promise((t=>{G.position.x=e.position.x,G.position.y=e.position.y,G.position.z=e.position.z,G.rotation.x=e.rotation.x,G.rotation.y=e.rotation.y,G.rotation.z=e.rotation.z,G.scale.x=e.scale.x,G.scale.y=e.scale.y,G.scale.z=e.scale.z,t({position:e.position,rotation:e.rotation,scale:e.scale})}))}getMeshSize(e){return new Promise((t=>{if(e.children.length)e.traverse((e=>{if(e instanceof K){e.geometry.computeBoundingBox();const{max:t,min:s}=e.geometry.boundingBox||{max:new J,min:new J};(new le).setFromPoints([s,t]).getSize(new J)}}));else{e.geometry.computeBoundingBox();const{max:t,min:s}=e.geometry.boundingBox||{max:new J,min:new J};(new le).setFromPoints([s,t]).getSize(new J)}}))}setMeshMatrix(e,t){return e.position.copy(new J(t.position.x,t.position.y,t.position.z)),e.rotation.copy(new de(t.rotation.x,t.rotation.y,t.rotation.z)),e.scale.copy(new J(t.scale.x,t.scale.y,t.scale.z)),e}setMeshPosition(e){var t;null==(t=this.selectMesh)||t.position.copy(e)}setMeshRotate(e){var t;const{x:s,y:i,z:n}=e,a=new de(s,i,n);null==(t=this.selectMesh)||t.rotation.copy(a)}setMeshScale(e){var t;null==(t=this.selectMesh)||t.scale.copy(e)}setSelectMeshIndex(e){const t=_.value=H.findIndex((t=>t.uuid===e));return U(t),V=e,I.value="",this.getAnimationName(),this.setVideoControlVisible(H[t].type),t}setSelectMesh(e){var t,s;let i;i="string"==typeof e?this.meshGroup.getObjectByProperty("uuid",e):(e.type,e),this.selectMesh=i,this.transformControls.attach(i),-1!==N.value&&this.transformControls.setMode(P[N.value].type),this.gizmo||(this.gizmo=null==(t=this.transformControls)?void 0:t.getHelper(),null==(s=this.scene)||s.add(this.gizmo)),N.value=C}moveTargetPosition(){var e,t;if(this.selectMesh){const s=new J(0,0,0).copy(this.selectMesh.position).subVectors(new J(0,10,20),this.selectMesh.position);this.camera.lookAt(0,0,0),this.camera.position.copy(s),null==(e=this.controls)||e.target.set(0,0,0),null==(t=this.controls)||t.update()}}setMeshVisible(e,t){e&&this.meshGroup.traverse((s=>{s.uuid===e&&(s.visible=t)}))}updateMeshMessage(e){const{uuid:t,message:s}=e;this.meshGroup.traverse((e=>{e.uuid===t&&(e.position.copy(s.position),new J,e.rotation.copy(new de(s.rotation.x,s.rotation.y,s.rotation.z)),e.scale.copy(s.scale))}))}exportData(){}setVideoControlVisible(e){e===ge.Video?R.value=!0:R.value=!1}setVideoPlay(){var e;const t=null==(e=this.meshGroup.children[_.value].material.map)?void 0:e.source.data;t.paused?t.play():t.pause(),F.value=!t.paused}setVideoMuted(){var e;const t=null==(e=this.meshGroup.children[_.value].material.map)?void 0:e.source.data;t.muted=!t.muted,ue.value=t.muted}animate(){var e,t;if(null==(e=this.stats)||e.begin(),requestAnimationFrame((()=>{this.animate()})),he.update(),this.renderer.render(this.scene,this.camera),this.mixerArray.length){const e=this.clock.getDelta();this.mixerArray.forEach((t=>{t.mixer.update(e)}))}null==(t=this.stats)||t.end()}},Ie=i(!1);o(G,((e,t)=>{Ie.value||(ce.setMeshPosition(new J(Number(e.position.x),Number(e.position.y),Number(e.position.z))),ce.setMeshRotate(new J(Number(e.rotation.x),Number(e.rotation.y),Number(e.rotation.z))),ce.setMeshScale(new J(Number(e.scale.x),Number(e.scale.y),Number(e.scale.z))))}));const Ue=(e,t)=>{"position"===t?ce.setMeshPosition(new J(Number(G.position.x),Number(G.position.y),Number(G.position.z))):"rotation"===t?ce.setMeshRotate(new J(Number(G.rotation.x),Number(G.rotation.y),Number(G.rotation.z))):"scale"===t&&ce.setMeshScale(new J(Number(G.scale.x),Number(G.scale.y),Number(G.scale.z))),ce.addLine(H[_.value].uuid,JSON.parse(JSON.stringify(G.position)),JSON.parse(JSON.stringify(G.rotation)),JSON.parse(JSON.stringify(G.scale)),{name:H[_.value].name,type:H[_.value].type,url:H[_.value].url})},We=e=>{const{dataset:t}=e.target;N.value=-1,"delete"===t.type?ce.remove():"targetPosition"===t.type?(ce.moveTargetPosition(),j.value=1!=j.value?1:-1):(ce.setMode(t.type),N.value=Number(t.index),C=Number(t.index))},Ee=e=>{const{dataset:t}=e.target;_.value=Number(t.index),ce.setSelectMesh(t.uuid),L=t.uuid||"",U(_.value),V=t.uuid,ce.getAnimationName(),ce.setVideoControlVisible(t.type)},Be=e=>{const{dataset:t}=e.target,s=t.name;ce.playAnimation(s)},Re=e=>{const{dataset:t}=e.target;B.name=t.name||"",B.type=t.type,B.url=t.url||"",Ie.value=!0},Fe=e=>{const t={uuid:"",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0},size:{x:0,y:0,z:0},name:B.name,type:B.type,url:B.url};ce.addObject(t),O.value=!0,Ie.value=!1};return r((()=>{ce.load(),O.value=!0;for(let e=0;e<fe.length;e++)ce.addObject(fe[e])})),l((()=>{ce.gui.close(),ce.gui.destroy()})),(e,t)=>{const s=d("a-input"),i=d("a-space"),n=d("a-tab-pane"),a=d("a-tabs"),o=d("a-button");return u(),h(c,null,[p("div",{id:"webgl",ref_key:"webglRef",ref:E,onDragover:t[0]||(t[0]=y((()=>{}),["prevent"])),onDrop:Fe},null,544),p("div",we,[O.value?(u(),h("div",{key:0,class:"list",onClick:We},[(u(),h(c,null,v(P,((e,t)=>p("div",{class:w(["item",N.value==t?"active":""]),key:t,"data-type":e.type,"data-index":t},b(e.name),11,be))),64))])):m("",!0),O.value?(u(),h("div",{key:1,class:"list",onClick:We},[(u(),h(c,null,v(k,((e,t)=>p("div",{class:w(["item",j.value==t?"active":""]),key:t,"data-type":e.type},b(e.name),11,ze))),64))])):m("",!0)]),p("div",Me,[p("div",Se,[g(a,{activeKey:M.value,"onUpdate:activeKey":t[19]||(t[19]=e=>M.value=e),type:"card"},{default:x((()=>[g(n,{key:"0",tab:"对象设置"},{default:x((()=>[p("div",Ne,[g(i,{direction:"vertical"},{default:x((()=>[t[23]||(t[23]=p("h2",null,"位置",-1)),g(s,{prefix:"x：",value:G.position.x,"onUpdate:value":t[1]||(t[1]=e=>G.position.x=e),placeholder:"x",type:"number",disabled:-1==_.value,onChange:t[2]||(t[2]=e=>Ue(0,"position"))},null,8,["value","disabled"]),g(s,{prefix:"y：",value:G.position.y,"onUpdate:value":t[3]||(t[3]=e=>G.position.y=e),placeholder:"y",type:"number",disabled:-1==_.value,onChange:t[4]||(t[4]=e=>Ue(0,"position"))},null,8,["value","disabled"]),g(s,{prefix:"z：",value:G.position.z,"onUpdate:value":t[5]||(t[5]=e=>G.position.z=e),placeholder:"z",type:"number",disabled:-1==_.value,onChange:t[6]||(t[6]=e=>Ue(0,"position"))},null,8,["value","disabled"])])),_:1}),g(i,{direction:"vertical"},{default:x((()=>[t[24]||(t[24]=p("h2",null,"旋转",-1)),g(s,{prefix:"x：",value:G.rotation.x,"onUpdate:value":t[7]||(t[7]=e=>G.rotation.x=e),placeholder:"x",type:"number",disabled:-1==_.value,onChange:t[8]||(t[8]=e=>Ue(0,"rotation"))},null,8,["value","disabled"]),g(s,{prefix:"y：",value:G.rotation.y,"onUpdate:value":t[9]||(t[9]=e=>G.rotation.y=e),placeholder:"y",type:"number",disabled:-1==_.value,onChange:t[10]||(t[10]=e=>Ue(0,"rotation"))},null,8,["value","disabled"]),g(s,{prefix:"z：",value:G.rotation.z,"onUpdate:value":t[11]||(t[11]=e=>G.rotation.z=e),placeholder:"z",type:"number",disabled:-1==_.value,onChange:t[12]||(t[12]=e=>Ue(0,"rotation"))},null,8,["value","disabled"])])),_:1}),g(i,{direction:"vertical"},{default:x((()=>[t[25]||(t[25]=p("h2",null,"缩放",-1)),g(s,{prefix:"x：",value:G.scale.x,"onUpdate:value":t[13]||(t[13]=e=>G.scale.x=e),placeholder:"x",type:"number",disabled:-1==_.value,onChange:t[14]||(t[14]=e=>Ue(0,"scale"))},null,8,["value","disabled"]),g(s,{prefix:"y：",value:G.scale.y,"onUpdate:value":t[15]||(t[15]=e=>G.scale.y=e),placeholder:"y",type:"number",disabled:-1==_.value,onChange:t[16]||(t[16]=e=>Ue(0,"scale"))},null,8,["value","disabled"]),g(s,{prefix:"z：",value:G.scale.z,"onUpdate:value":t[17]||(t[17]=e=>G.scale.z=e),placeholder:"z",type:"number",disabled:-1==_.value,onChange:t[18]||(t[18]=e=>Ue(0,"scale"))},null,8,["value","disabled"])])),_:1})])])),_:1}),g(n,{key:"1",tab:"对象动画"},{default:x((()=>[p("div",Ce,[(u(!0),h(c,null,v(f(A),((e,t)=>(u(),h("div",{class:w(["item",I.value===e?"active":""]),key:e,"data-name":e,onClick:Be},b(e),11,Pe)))),128))])])),_:1})])),_:1},8,["activeKey"])]),p("div",ke,[t[26]||(t[26]=p("h1",null,"对象集合",-1)),p("div",{class:"object-list",onClick:Ee},[(u(!0),h(c,null,v(H,((e,t)=>(u(),h("div",{class:w(["item",_.value===t?"active":""]),key:e.uuid,"data-index":t,"data-uuid":e.uuid,"data-type":e.type},b(e.name),11,Oe)))),128))])])]),p("div",je,[p("div",{class:"mesh",ref_key:"dragRef",ref:W},[(u(),h(c,null,v(S,((e,s)=>p("div",{class:"mesh-item",key:s,"data-type":e.type,"data-url":e.url,"data-name":e.name,draggable:"true",onDragover:t[20]||(t[20]=y((()=>{}),["prevent"])),onDragstart:Re},b(e.name),41,Ge))),64))],512)]),R.value?(u(),h("div",Le,[p("div",He,[p("div",{class:"item",onClick:t[21]||(t[21]=(...e)=>f(ce).setVideoPlay&&f(ce).setVideoPlay(...e))},[g(o,null,{default:x((()=>[z(b(F.value?"暂停":"播放"),1)])),_:1})]),p("div",{class:"item",onClick:t[22]||(t[22]=(...e)=>f(ce).setVideoMuted&&f(ce).setVideoMuted(...e))},[g(o,null,{default:x((()=>[z("静音（"+b(ue.value?"是":"否")+"）",1)])),_:1})])])])):m("",!0),p("div",_e,[p("div",Je,[g(o,{onClick:f(ce).prev},{default:x((()=>t[27]||(t[27]=[z("上一步")]))),_:1},8,["onClick"])]),p("div",Ve,[g(o,{onClick:f(ce).next},{default:x((()=>t[28]||(t[28]=[z("下一步")]))),_:1},8,["onClick"])]),p("div",Ae,[g(o,{onClick:f(ce).exportData},{default:x((()=>t[29]||(t[29]=[z("导出")]))),_:1},8,["onClick"])])])],64)}}}),[["__scopeId","data-v-51888038"]]),We=s({__name:"App",setup:e=>(e,t)=>(u(),h("div",null,[g(Ue)]))}),Ee={key:0,class:"loading"},Be={class:"progress"},Re=Ie(s({__name:"ProgressLoading",setup(e,{expose:t}){const s=i(0),n=i(!1);return t({onShow:()=>{n.value=!0},onHide:()=>{n.value=!1},onProgress:e=>{s.value=e}}),(e,t)=>(u(),M(S,{to:"body"},[n.value?(u(),h("div",Ee,[p("div",Be,"加载进度..."+b(s.value)+"%",1)])):m("",!0)]))}}),[["__scopeId","data-v-12cf9b1b"]]),Fe={install(e){const t=document.createElement("div"),s=N(Re).mount(t);e.config.globalProperties.$progressLoading={onShow(){s.onShow()},onHide(){s.onHide()},onProgress(e){s.onProgress(e)}}}},De=N(We);De.use(ue),De.use(Fe),De.mount("#app");
